
{% extends 'base.html' %}
{% load static %}
{% block content %}


<body class="maxw1600 m0a dashboard-bd">
    <!-- Wrapper -->
    <div id="wrapper" class="int_main_wraapper">
        <!-- START SECTION HEADINGS -->
        <!-- Header Container
        ================================================== -->
        <div class="dash-content-wrap">
        </div>
        <div class="clearfix"></div>
        <!-- Header Container / End -->

        <!-- START SECTION USER PROFILE -->
        <section class="user-page section-padding pt-5">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-3 col-md-12 col-xs-12 pl-0 pr-0 user-dash">
                        <div class="user-profile-box mb-0">
                            <div class="sidebar-header"><img src="{% static 'images/logo-blue.svg' %}" alt="header-logo2.png"> </div>
                            <div class="header clearfix">

                                {% if user.profile.profile_picture %}
                                <img src="{{user.profile.profile_picture.url}}"  alt="avatar" class="img-fluid profile-img">
                                {% else %}
                                <img src="{% static 'images/default_profile_picture.jpg' %}" alt="{{request.user.username}}" class="img-fluid profile-img">
                                {% endif %}

                            </div>
                            <div class="active-user">
                                <h2 style="text-align:center; color:white">{{user.username}}</h2>
                            </div>
                            <div class="detail clearfix">
                                <ul class="mb-0">
                                    <li>
                                        <a href="{% url 'dashboard' %}">
                                            <i class="fa fa-map-marker"></i> Dashboard
                                        </a>
                                    </li>
                                    <li>
                                        <a class="active" href="user-profile.html">
                                            <i class="fa fa-user"></i>Profile
                                        </a>
                                    </li>
                                   
                                   
                                    <li>
                                        <a href="{% url 'add_property' %}">
                                            <i class="fa fa-list" aria-hidden="true"></i>Sajili nyumba hapa
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'jihudumie' %}">
                                            <i class="fas fa-credit-card"></i>Payments
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'construction' %}">
                                            <i class="fas fa-paste"></i>Invoices
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'reset_password' %}">
                                            <i class="fa fa-lock"></i>Change Password
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'logout' %}">
                                            <i class="fas fa-sign-out-alt"></i>Log Out
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6 col-md-6 col-xs-6 widget-boxed mt-33 mt-0 offset-lg-2 offset-md-3">
                       <div class="col-lg-12 mobile-dashbord dashbord">
                           
                        </div>
                        <div class="widget-boxed-header">
                            <h2>Properties Descriptions</h2>
                        </div>
                        <div class="sidebar-widget author-widget2">

                            <ul class="author__contact">
                                <li><span class="la la-map-marker"><i class="fa fa-map-marker"></i></span>{{user.profile.address}}</li>
                                <li><span class="la la-phone"><i class="fa fa-phone" aria-hidden="true"></i></span><a href="#">{{user.profile.phone}}</a></li>
                                <li><span class="la la-envelope-o"><i class="fa fa-envelope" aria-hidden="true"></i></span><a href="#">{{user.email}}</a></li>
                            </ul>
                            <div class="agent-contact-form-sidebar">
                                <h4>Jaza Taarifa</h4>

                                <form name="contact_form" method="POST" action="{% url 'add_property' %}" enctype="multipart/form-data">
                                    {% csrf_token %}

                                     <!-- title field -->
                                     <div class="form-group">
                                    <label for='Title'>Title</label><br>
                                    <input type="text" name="title" id="Title" value="{{property.title}}" class="form-control" required />
                                    <div class="error">{{form.title.errors}}</div></div>

                                     <!-- property_type field -->
                                     <div class="form-group">
                                        <label for="property_type">Property Type</label>
                                        <select id="property_type" name="property_type" class="form-control">
                                            <option value="House"{% if form.property_type.value == 'House' %}selected{% endif %}> House</option>
                                            <option value="Apartment"{% if form.property_type.value == 'Apartment' %}selected{% endif %}> Apartment</option>
                                            <option value="Commercial"{% if form.property_type.value == 'Commercial' %}selected{% endif %}> Commercial</option>
                                        </select>
                                        <div class="error">{{form.property_type.errors}}</div></div>


                                     <!-- Country field -->
                                     <div class="form-group">
                                        <label for='country'>Country</label><br>
                                        <input type="text" name="country" id="country" value="{{property.country}}" class="form-control" required />
                                        <div class="error">{{form.country.errors}}</div></div>



                                     <!-- Region field -->
                                     <div class="form-group">
                                        <label for='region'>Region</label><br>
                                        <input type="text" name="region" id="region" value="{{property.region}}" class="form-control" required />
                                        <div class="error">{{form.region.errors}}</div></div>



                                     <!-- District field -->
                                     <div class="form-group">
                                        <label for='district'>District</label><br>
                                        <input type="text" name="district" id="district" value="{{property.district}}" class="form-control" required />
                                        <div class="error">{{form.district.errors}}</div></div>



                                     <!-- Ward field -->
                                     <div class="form-group">
                                        <label for='ward'>Ward</label><br>
                                        <input type="text" name="ward" id="ward" value="{{property.ward}}" class="form-control" required />
                                        <div class="error">{{form.ward.errors}}</div></div>



                                    <!-- Price field -->
                                    <div class="form-group">
                                        <label for="price">Price</label>
                                        <input type="number" id="price" name="price" value="{{property.price}}" class="form-control" required />
                                        <div class="error">{{form.price.errors}}</div></div>



                                    <!-- Business Phone Number field -->
                                    <div class="form-group">
                                        <label for="price">Business Phone Number</label>
                                        <input type="number" id="business_phone" name="business_phone" value="{{property.business_phone}}" class="form-control" required />
                                        <div class="error">{{form.business_phone.errors}}</div></div>



                                    <!-- Business Email field -->
                                    <div class="form-group">
                                        <label for="business_email">Business Email</label>
                                        <input type="email" id="business_phone" name="business_email" value="{{property.business_email}}" class="form-control" required />
                                        <div class="error">{{form.business_email.errors}}</div></div>




                                     <!-- status field -->
                                     <div class="form-group">
                                        <label for="Business_type">Business Status</label>
                                        <select id="status" name="status" class="form-control">
                                            <option value="For Rent"{% if form.status.value == 'For Rent' %}selected{% endif %}> For Rent</option>
                                            <option value="For Sale"{% if form.status.value == 'For Sale' %}selected{% endif %}> For Sale</option>
                                        </select>
                                        <div class="error">{{form.status.errors}}</div></div>



                                     <!--property_status field -->
                                     <div class="form-group">
                                        <label for="property_status">Property Status</label>
                                        <select id="p_status" name="p_status" class="form-control">
                                            <option value="Active"{% if form.p_status.value == 'Active' %}selected{% endif %}> Active</option>
                                            <option value="Sold"{% if form.p_status.value == 'Sold' %}selected{% endif %}> Sold</option>
                                        </select>
                                        <div class="error">{{form.p_status.errors}}</div></div>


                                    <!-- Bedrooms field -->
                                    <div class="form-group">
                                        <label for="bedrooms">Bedrooms</label>
                                        <input type="number" id="bedrooms" name="bedrooms" value="{{property.bedrooms}}" class="form-control" required />
                                        <div class="error">{{form.bedrooms.errors}}</div></div>



                                    <!-- Bathroom field -->
                                    <div class="form-group">
                                        <label for="bathrooms">Bathroom</label>
                                        <input type="number" id="bathrooms" name="bathrooms" value="{{property.bathrooms}}" class="form-control" required />
                                        <div class="error">{{form.bathrooms.errors}}</div></div>



                                     <!-- House_size field -->
                                     <div class="form-group">
                                        <label for="bathrooms">Ukubwa wa chumba / Vyumba (squire meter)</label>
                                        <input type="number" id="house_size" name="house_size" value="{{property.house_size}}" class="form-control" required />
                                        <div class="error">{{form.house_size.errors}}</div></div>



                                     <!-- Nearby field -->
                                     <div class="form-group">
                                        <label for='nearby'>Nearby</label><br>
                                        <textarea name="nearby" placeholder="Tueleze Nyumba yako hipo karibu na nini.." id="nearby" value="{{property.nearby}}" class="form-control" required></textarea>
                                        <div class="error">{{form.nearby.errors}}</div></div>




                                     <!-- link field -->
                                     <div class="form-group">
                                        <label for='video_link'>Video link</label><br>
                                        <input type="url" name="video_link" placeholder="Eg. youtube link, instagram etc" id="video_link" value="{{property.video_link}}" class="form-control" />
                                        <div class="error">{{form.video_link.errors}}</div></div>




                                        <!-- Descriptions field -->
                                      <div class="form-group">
                                        <label for="description">Description</label>
                                       <textarea name="description" id="description" class="form-control"  placeholder="Tuambie Chochote kuhusiana na Nyumba yako" required>{{property.description}}</textarea>
                                        <div class="error">{{form.description.errors}}</div></div>


                                    <!-- Owner_image field -->
                                    <div class="form-group">
                                        <label for="property_owner">Weka passport / picha yako</label><br>
                                        <input type="file" id="property_owner" name="property_owner" class="form-control" accept="image/*" required/>
                                        <div class="error">{{form.property_owner.errors}}</div></div>


                                        <div>
                                            <h3>Weka picha nne za Nyumba yako</h3>
                                    <!-- image 1 field -->
                                    <div class="form-group">
                                        <label for="profile_picture">Property Image 1</label><br>
                                        <input type="file" id="image" name="image" class="form-control" accept="image/*" required/>
                                        <div class="error">{{form.image.errors}}</div></div>



                                    <!-- image 2 field -->
                                    <div class="form-group">
                                        <label for="image1">Property Image 2</label><br>
                                        <input type="file" id="image1" name="image1" class="form-control" accept="image/*" required/>
                                        <div class="error">{{form.image1.errors}}</div></div>



                                    <!-- image field -->
                                    <div class="form-group">
                                        <label for="profile_picture">Property Image 3</label><br>
                                        <input type="file" id="image2" name="image2" class="form-control" accept="image/*" required/>
                                        <div class="error">{{form.image2.errors}}</div></div>


                                    <!-- image field -->
                                    <div class="form-group">
                                        <label for="image3">Property Image 4</label><br>
                                        <input type="file" id="image3" name="image3" class="form-control" accept="image/*" required/>
                                        <div class="error">{{form.image3.errors}}</div></div>

                                          </div>
                                    <!-- video field -->
                                    <!-- <div>
                                        <h3>Upload video isiyozidi 15MB</h3>
                                    <div class="form-group">
                                        <label for="video">Property Video</label><br>
                                        <input type="file" id="video" name="video" class="form-control" accept="video/*"/>
                                        <div class="error">{{form.video.errors}}</div></div>
                                        </div> -->



                                    <button type='submit' class="btn btn-primary">Save</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        {% endblock %}
